import React, { useState, useEffect } from "react";
import { cn } from "@/lib/utils";
import { useLocation } from "react-router-dom";

const SearchIcon = () => (
  <svg
    width="16"
    height="16"
    viewBox="0 0 16 16"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M14.4667 13.5334L10.8734 9.94006C11.7165 8.8637 12.1175 7.50643 11.9949 6.14469C11.8723 4.78295 11.2352 3.51917 10.2133 2.61076C9.19148 1.70235 7.86178 1.21764 6.49505 1.25534C5.12832 1.29305 3.82736 1.85034 2.85716 2.81371C1.88696 3.77708 1.32049 5.07406 1.27313 6.44049C1.22576 7.80692 1.70107 9.14001 2.60224 10.1682C3.5034 11.1965 4.76265 11.8425 6.12349 11.9748C7.48432 12.107 8.8444 11.7155 9.92668 10.8801L13.52 14.4801C13.582 14.5425 13.6557 14.5921 13.737 14.626C13.8182 14.6598 13.9053 14.6773 13.9934 14.6773C14.0814 14.6773 14.1685 14.6598 14.2497 14.626C14.331 14.5921 14.4047 14.5425 14.4667 14.4801C14.5292 14.4181 14.5788 14.3444 14.6126 14.2631C14.6465 14.1819 14.6639 14.0947 14.6639 14.0067C14.6639 13.9187 14.6465 13.8316 14.6126 13.7503C14.5788 13.6691 14.5292 13.5954 14.4667 13.5334ZM3.83335 9.49339C3.27439 8.93381 2.89387 8.22107 2.73989 7.44526C2.58591 6.66946 2.66538 5.86542 2.96826 5.13478C3.27114 4.40413 3.78383 3.77968 4.44153 3.34035C5.09923 2.90102 5.87242 2.66654 6.66335 2.66654C7.45429 2.66654 8.22747 2.90102 8.88517 3.34035C9.54287 3.77968 10.0556 4.40413 10.3584 5.13478C10.6613 5.86542 10.7408 6.66946 10.5868 7.44526C10.4328 8.22107 10.0523 8.93381 9.49335 9.49339C9.12186 9.8653 8.68071 10.1603 8.19511 10.3616C7.70952 10.5629 7.18901 10.6665 6.66335 10.6665C6.13769 10.6665 5.61718 10.5629 5.13159 10.3616C4.646 10.1603 4.20484 9.8653 3.83335 9.49339Z"
      fill="#21262A"
    />
  </svg>
);

const HelpIcon = () => (
  <svg
    width="24"
    height="24"
    viewBox="0 0 24 24"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M11.9999 15C11.8022 15 11.6088 15.0587 11.4444 15.1685C11.2799 15.2784 11.1518 15.4346 11.0761 15.6173C11.0004 15.8 10.9806 16.0011 11.0192 16.1951C11.0577 16.3891 11.153 16.5673 11.2928 16.7071C11.4327 16.847 11.6109 16.9422 11.8049 16.9808C11.9988 17.0194 12.1999 16.9996 12.3826 16.9239C12.5654 16.8482 12.7215 16.72 12.8314 16.5556C12.9413 16.3911 12.9999 16.1978 12.9999 16C12.9999 15.7348 12.8946 15.4804 12.7071 15.2929C12.5195 15.1054 12.2652 15 11.9999 15Z"
      fill="#5D686F"
    />
    <path
      d="M14.9999 10C14.9984 9.20485 14.6818 8.4427 14.1195 7.88044C13.5572 7.31817 12.7951 7.00159 11.9999 7.00001C11.333 7.00219 10.6858 7.22656 10.1606 7.63765C9.63545 8.04874 9.26223 8.62311 9.09995 9.27001C9.06275 9.39872 9.0518 9.5336 9.06774 9.66663C9.08369 9.79966 9.1262 9.92813 9.19276 10.0444C9.25932 10.1607 9.34857 10.2624 9.4552 10.3435C9.56184 10.4246 9.68369 10.4835 9.81351 10.5166C9.94334 10.5497 10.0785 10.5564 10.211 10.5363C10.3434 10.5161 10.4705 10.4696 10.5846 10.3994C10.6987 10.3292 10.7976 10.2368 10.8753 10.1276C10.953 10.0185 11.008 9.89481 11.0369 9.76401C11.0926 9.54927 11.2167 9.35851 11.3904 9.22064C11.5642 9.08278 11.7782 9.00532 11.9999 9.00001C12.2647 9.00158 12.5181 9.10744 12.7053 9.29464C12.8925 9.48184 12.9984 9.73528 12.9999 10C12.9999 10.013 13.0069 10.024 13.0069 10.037C13.0069 10.05 12.9999 10.06 12.9999 10.073C12.9999 10.1658 12.9741 10.2567 12.9254 10.3357C12.8766 10.4146 12.8069 10.4784 12.7239 10.52L11.5519 11.104C11.3857 11.1873 11.2461 11.3152 11.1485 11.4735C11.051 11.6318 10.9996 11.8141 10.9999 12V13C10.9999 13.2652 11.1053 13.5196 11.2928 13.7071C11.4804 13.8947 11.7347 14 11.9999 14C12.2652 14 12.5195 13.8947 12.7071 13.7071C12.8946 13.5196 12.9999 13.2652 12.9999 13V12.617L13.6189 12.309C14.0427 12.0951 14.3973 11.7655 14.6417 11.3585C14.8861 10.9515 15.0103 10.4836 14.9999 10.009V10Z"
      fill="#5D686F"
    />
    <path
      d="M19.0819 4.94001C18.1571 4.007 17.0564 3.26674 15.8435 2.76208C14.6306 2.25742 13.3296 1.9984 12.0159 2.00001H11.9999C9.34778 1.99789 6.8034 3.04942 4.92654 4.92328C3.04967 6.79715 1.99407 9.33984 1.99195 11.992C1.98982 14.6442 3.04136 17.1886 4.91522 19.0654C6.78909 20.9423 9.33178 21.9979 11.9839 22H11.9999C13.9764 22 15.9086 21.4143 17.5524 20.3168C19.1961 19.2194 20.4779 17.6594 21.2357 15.834C21.9934 14.0086 22.1933 11.9995 21.81 10.0606C21.4266 8.12164 20.4773 6.33977 19.0819 4.94001ZM17.6479 17.665C16.9073 18.4078 16.0268 18.9966 15.0575 19.3973C14.0881 19.7981 13.0489 20.0029 11.9999 20H11.9869C9.86522 19.9983 7.83107 19.1538 6.332 17.6523C4.83292 16.1508 3.99172 14.1152 3.99345 11.9935C3.99517 9.87178 4.83968 7.83763 6.34119 6.33856C7.8427 4.83949 9.87821 3.99828 11.9999 4.00001H12.0119C13.5941 4.00252 15.14 4.4741 16.4541 5.35514C17.7683 6.23617 18.7917 7.48709 19.3949 8.94973C19.9982 10.4124 20.1542 12.021 19.8432 13.5723C19.5323 15.1236 18.7683 16.5479 17.6479 17.665Z"
      fill="#5D686F"
    />
  </svg>
);

const TaskIcon = () => (
  <svg
    width="20"
    height="20"
    viewBox="0 0 20 20"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M14.1666 3.33329H13.1799C13.0082 2.84754 12.6906 2.4267 12.2705 2.12837C11.8504 1.83003 11.3485 1.66876 10.8333 1.66663H9.16658C8.65137 1.66876 8.14939 1.83003 7.72934 2.12837C7.30928 2.4267 6.99165 2.84754 6.81992 3.33329H5.83325C5.17021 3.33329 4.53433 3.59668 4.06549 4.06553C3.59664 4.53437 3.33325 5.17025 3.33325 5.83329V15.8333C3.33325 16.4963 3.59664 17.1322 4.06549 17.6011C4.53433 18.0699 5.17021 18.3333 5.83325 18.3333H14.1666C14.8296 18.3333 15.4655 18.0699 15.9344 17.6011C16.4032 17.1322 16.6666 16.4963 16.6666 15.8333V5.83329C16.6666 5.17025 16.4032 4.53437 15.9344 4.06553C15.4655 3.59668 14.8296 3.33329 14.1666 3.33329ZM9.16658 3.33329H10.8333C11.0543 3.33329 11.2662 3.42109 11.4225 3.57737C11.5788 3.73365 11.6666 3.94561 11.6666 4.16663V4.99996H8.33325V4.16663C8.33325 3.94561 8.42105 3.73365 8.57733 3.57737C8.73361 3.42109 8.94557 3.33329 9.16658 3.33329ZM14.9999 15.8333C14.9999 16.0543 14.9121 16.2663 14.7558 16.4225C14.5996 16.5788 14.3876 16.6666 14.1666 16.6666H5.83325C5.61224 16.6666 5.40028 16.5788 5.244 16.4225C5.08772 16.2663 4.99992 16.0543 4.99992 15.8333V5.83329C4.99992 5.61228 5.08772 5.40032 5.244 5.24404C5.40028 5.08776 5.61224 4.99996 5.83325 4.99996H6.66659V5.83329C6.66659 6.05431 6.75438 6.26627 6.91066 6.42255C7.06694 6.57883 7.2789 6.66663 7.49992 6.66663H12.4999C12.7209 6.66663 12.9329 6.57883 13.0892 6.42255C13.2455 6.26627 13.3333 6.05431 13.3333 5.83329V4.99996H14.1666C14.3876 4.99996 14.5996 5.08776 14.7558 5.24404C14.9121 5.40032 14.9999 5.61228 14.9999 5.83329V15.8333Z"
      fill="#21262A"
    />
    <path
      d="M11.2858 9.41079L9.37492 11.3216L8.71408 10.6608C8.55692 10.509 8.34641 10.425 8.12792 10.4269C7.90942 10.4288 7.70041 10.5164 7.5459 10.6709C7.3914 10.8255 7.30376 11.0345 7.30186 11.253C7.29996 11.4715 7.38395 11.682 7.53575 11.8391L8.78575 13.0891C8.94202 13.2454 9.15395 13.3331 9.37492 13.3331C9.59589 13.3331 9.80781 13.2454 9.96409 13.0891L12.4641 10.5891C12.6159 10.432 12.6999 10.2215 12.698 10.003C12.6961 9.78446 12.6084 9.57545 12.4539 9.42094C12.2994 9.26644 12.0904 9.1788 11.8719 9.1769C11.6534 9.175 11.4429 9.25899 11.2858 9.41079Z"
      fill="#21262A"
    />
  </svg>
);

const DotsNineIcon = () => (
  <svg
    width="20"
    height="20"
    viewBox="0 0 20 20"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M8.86306 3.80477L8.80414 3.8637C8.17637 4.49146 8.17637 5.50928 8.80414 6.13704L8.86306 6.19597C9.49083 6.82374 10.5086 6.82374 11.1364 6.19597L11.1953 6.13704C11.8231 5.50928 11.8231 4.49146 11.1953 3.8637L11.1364 3.80477C10.5086 3.177 9.49083 3.177 8.86306 3.80477Z"
      fill="#21262A"
    />
    <path
      d="M3.86334 3.80436L3.80442 3.86329C3.17665 4.49106 3.17665 5.50887 3.80442 6.13664L3.86334 6.19556C4.49111 6.82333 5.50892 6.82333 6.13669 6.19556L6.19562 6.13664C6.82339 5.50887 6.82339 4.49106 6.19562 3.86329L6.13669 3.80436C5.50892 3.17659 4.49111 3.17659 3.86334 3.80436Z"
      fill="#21262A"
    />
    <path
      d="M13.8628 3.80396L13.8038 3.86288C13.1761 4.49065 13.1761 5.50846 13.8038 6.13623L13.8628 6.19516C14.4905 6.82292 15.5083 6.82292 16.1361 6.19515L16.195 6.13623C16.8228 5.50846 16.8228 4.49065 16.195 3.86288L16.1361 3.80396C15.5083 3.17619 14.4905 3.17619 13.8628 3.80396Z"
      fill="#21262A"
    />
    <path
      d="M8.86276 8.80436L8.80383 8.86329C8.17607 9.49106 8.17607 10.5089 8.80383 11.1366L8.86276 11.1956C9.49053 11.8233 10.5083 11.8233 11.1361 11.1956L11.195 11.1366C11.8228 10.5089 11.8228 9.49106 11.195 8.86329L11.1361 8.80436C10.5083 8.17659 9.49053 8.17659 8.86276 8.80436Z"
      fill="#21262A"
    />
    <path
      d="M3.86306 8.80396L3.80414 8.86288C3.17637 9.49065 3.17637 10.5085 3.80414 11.1362L3.86306 11.1952C4.49083 11.8229 5.50864 11.8229 6.13641 11.1952L6.19534 11.1362C6.82311 10.5085 6.82311 9.49065 6.19534 8.86288L6.13641 8.80396C5.50864 8.17619 4.49083 8.17619 3.86306 8.80396Z"
      fill="#21262A"
    />
    <path
      d="M13.8633 8.80477L13.8044 8.86369C13.1766 9.49146 13.1766 10.5093 13.8044 11.137L13.8633 11.196C14.4911 11.8237 15.5089 11.8237 16.1366 11.196L16.1956 11.137C16.8233 10.5093 16.8233 9.49146 16.1956 8.86369L16.1366 8.80477C15.5089 8.177 14.4911 8.177 13.8633 8.80477Z"
      fill="#21262A"
    />
    <path
      d="M8.86329 13.804L8.80437 13.8629C8.1766 14.4906 8.1766 15.5085 8.80437 16.1362L8.86329 16.1952C9.49106 16.8229 10.5089 16.8229 11.1366 16.1952L11.1956 16.1362C11.8233 15.5085 11.8233 14.4906 11.1956 13.8629L11.1366 13.804C10.5089 13.1762 9.49106 13.1762 8.86329 13.804Z"
      fill="#21262A"
    />
    <path
      d="M3.86276 13.8048L3.80383 13.8637C3.17607 14.4915 3.17607 15.5093 3.80383 16.137L3.86276 16.196C4.49053 16.8237 5.50834 16.8237 6.13611 16.196L6.19503 16.137C6.8228 15.5093 6.8228 14.4915 6.19503 13.8637L6.13611 13.8048C5.50834 13.177 4.49053 13.177 3.86276 13.8048Z"
      fill="#21262A"
    />
    <path
      d="M13.863 13.8044L13.8041 13.8633C13.1763 14.4911 13.1763 15.5089 13.8041 16.1366L13.863 16.1956C14.4908 16.8233 15.5086 16.8233 16.1363 16.1956L16.1953 16.1366C16.823 15.5089 16.823 14.4911 16.1953 13.8633L16.1363 13.8044C15.5086 13.1766 14.4908 13.1766 13.863 13.8044Z"
      fill="#21262A"
    />
  </svg>
);

const ChevronDownIcon = () => (
  <svg
    width="16"
    height="16"
    viewBox="0 0 16 16"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M8.00935 10.6787C7.92165 10.6787 7.83482 10.6614 7.75382 10.6277C7.67283 10.5941 7.59927 10.5448 7.53735 10.4827L3.54269 6.47671C3.48075 6.41472 3.43162 6.34115 3.39811 6.26018C3.36461 6.17921 3.34738 6.09243 3.34741 6.00481C3.34744 5.91718 3.36473 5.83042 3.3983 5.74947C3.43186 5.66852 3.48103 5.59498 3.54302 5.53304C3.605 5.4711 3.67858 5.42198 3.75955 5.38847C3.84052 5.35497 3.92729 5.33774 4.01492 5.33777C4.10255 5.3378 4.18931 5.35509 4.27026 5.38865C4.3512 5.42221 4.42474 5.47139 4.48669 5.53338L8.01068 9.06671L11.544 5.54338C11.6692 5.41846 11.8389 5.34839 12.0157 5.34857C12.1926 5.34876 12.3621 5.41919 12.487 5.54438C12.6119 5.66956 12.682 5.83924 12.6818 6.01608C12.6816 6.19293 12.6112 6.36246 12.486 6.48738L8.48002 10.484C8.35508 10.6087 8.18582 10.6787 8.00935 10.6787Z"
      fill="#21262A"
    />
  </svg>
);

const SlashIcon = () => (
  <svg
    width="20"
    height="20"
    viewBox="0 0 20 20"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M10.2003 4.83078L11.8307 4.85447L7.83178 15.8826L6.2005 15.7971L10.2003 4.83078Z"
      fill="#5D686F"
    />
  </svg>
);

interface MailchimpHeaderProps {
  className?: string;
}

export function MailchimpHeader({ className }: MailchimpHeaderProps) {
  const location = useLocation();
  const isInboxPage = location.pathname === "/inbox";
  const [isMobile, setIsMobile] = useState(false);
  const [isNavOpen, setIsNavOpen] = useState(false);

  useEffect(() => {
    const checkMobile = () => setIsMobile(window.innerWidth < 768);

    const handleMobileNavToggle = (event: CustomEvent) => {
      setIsNavOpen(event.detail);
    };

    checkMobile();
    window.addEventListener('resize', checkMobile);
    window.addEventListener('toggleMobileNav', handleMobileNavToggle as EventListener);

    return () => {
      window.removeEventListener('resize', checkMobile);
      window.removeEventListener('toggleMobileNav', handleMobileNavToggle as EventListener);
    };
  }, []);

  return (
    <div
      className={cn(
        "flex flex-col bg-mailchimp-background-tertiary",
        className,
      )}
    >
      {/* Brand stripe */}
      <div className="h-1 bg-mailchimp-cavendish" />

      {/* Mobile header with logo and hamburger */}
      {isMobile && (
        <div className="flex items-center justify-between p-3 bg-[#F0F4F6] border-b border-gray-200">
          <div className="flex items-center gap-3">
            {/* Use same Mailchimp logo as desktop navigation */}
            <svg
              width="32"
              height="32"
              viewBox="0 0 32 32"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M23.0617 15.1951C23.2789 15.1693 23.487 15.1681 23.6769 15.1951C23.7872 14.9448 23.8065 14.5138 23.7064 14.0435C23.5586 13.3453 23.3585 12.9233 22.9458 12.9884C22.533 13.0546 22.5171 13.5597 22.6649 14.2578C22.7479 14.6507 22.8957 14.9863 23.0606 15.194L23.0617 15.1951Z"
                fill="#21262A"
              />
              <path
                d="M19.5142 15.7473C19.8098 15.8753 19.9917 15.9606 20.0622 15.8865C20.1077 15.8405 20.094 15.7518 20.0236 15.6384C19.878 15.4039 19.5778 15.1648 19.2595 15.0312C18.6079 14.754 17.8313 14.846 17.2321 15.2714C17.0343 15.414 16.8466 15.6126 16.8739 15.7327C16.883 15.772 16.9126 15.8012 16.9819 15.8102C17.1445 15.8281 17.7153 15.5442 18.3714 15.5049C18.8353 15.4768 19.2185 15.6194 19.5142 15.7484V15.7473Z"
                fill="#21262A"
              />
              <path
                d="M18.9183 16.0818C18.5329 16.1413 18.3214 16.267 18.1849 16.3838C18.069 16.4836 17.9962 16.5948 17.9973 16.6733C17.9973 16.7104 18.0144 16.7317 18.0269 16.7429C18.044 16.7586 18.0656 16.7665 18.0906 16.7665C18.177 16.7665 18.3726 16.6891 18.3726 16.6891C18.9081 16.4994 19.2617 16.5229 19.6119 16.5622C19.8052 16.5835 19.8973 16.5959 19.9394 16.5297C19.9519 16.5106 19.9667 16.4702 19.928 16.4084C19.8382 16.2636 19.4493 16.0201 18.9183 16.0818Z"
                fill="#21262A"
              />
              <path
                d="M21.8633 17.312C22.1248 17.4388 22.4125 17.3895 22.5069 17.2009C22.6012 17.0123 22.4648 16.7575 22.2033 16.6307C21.9417 16.5039 21.6541 16.5532 21.5597 16.7418C21.4665 16.9304 21.6018 17.1852 21.8633 17.312Z"
                fill="#21262A"
              />
              <path
                d="M23.545 15.8618C23.3324 15.8584 23.1561 16.0886 23.1516 16.3759C23.147 16.6632 23.3153 16.899 23.5268 16.9034C23.7394 16.9068 23.9157 16.6767 23.9202 16.3894C23.9248 16.102 23.7565 15.8663 23.545 15.8618Z"
                fill="#21262A"
              />
              <path
                d="M9.05219 21.0206C8.99306 21.034 8.92711 21.0497 8.85434 21.0486C8.69857 21.0453 8.56553 20.9802 8.49162 20.8668C8.39497 20.7198 8.40066 20.5009 8.50754 20.2506C8.52232 20.2169 8.53938 20.1799 8.55757 20.1383C8.72813 19.7612 9.01353 19.1292 8.69288 18.5276C8.45183 18.0742 8.05955 17.7924 7.58653 17.7329C7.13285 17.6757 6.66553 17.8418 6.36762 18.1662C5.89802 18.678 5.82411 19.3739 5.91507 19.6209C5.94805 19.7107 6.00035 19.7365 6.03788 19.741C6.11747 19.7511 6.23572 19.6938 6.30963 19.4974C6.31532 19.4828 6.32214 19.4615 6.33123 19.4334C6.36421 19.329 6.42561 19.136 6.52681 18.9811C6.64847 18.7936 6.83722 18.6646 7.05894 18.6185C7.28522 18.5703 7.51604 18.6129 7.70933 18.7386C8.03794 18.9508 8.16529 19.3492 8.0243 19.7298C7.95153 19.9262 7.83327 20.3022 7.85942 20.6109C7.91173 21.2361 8.30174 21.4864 8.65081 21.5133C8.99079 21.5257 9.22843 21.3371 9.28869 21.2002C9.32394 21.1182 9.29438 21.0688 9.27505 21.0475C9.22274 20.9824 9.13519 21.0026 9.05105 21.0217L9.05219 21.0206Z"
                fill="#21262A"
              />
              <path
                d="M28.9039 19.9049C28.8914 19.86 28.8061 19.5558 28.6913 19.1887C28.5753 18.8217 28.4559 18.5635 28.4559 18.5635C28.9209 17.8766 28.9289 17.2626 28.8675 16.9147C28.8016 16.4836 28.6196 16.1155 28.2535 15.7361C27.8874 15.3567 27.1369 14.9672 26.084 14.6754C25.9635 14.6417 25.5667 14.534 25.5314 14.5239C25.5291 14.5014 25.5018 13.2375 25.478 12.6943C25.4609 12.3025 25.4268 11.6897 25.2335 11.0869C25.0038 10.2709 24.6047 9.55593 24.1056 9.09909C25.4825 7.69043 26.3421 6.13809 26.3398 4.80687C26.3364 2.24657 23.1504 1.47209 19.2253 3.07606C19.2208 3.0783 18.3998 3.42177 18.3942 3.42514C18.3908 3.42177 16.891 1.96933 16.8682 1.94913C12.3906 -1.90535 -1.60308 13.4486 2.8712 17.1773L3.84906 17.9945C3.5955 18.6432 3.49544 19.3863 3.57731 20.1855C3.68192 21.2114 4.2186 22.1958 5.0873 22.9557C5.9128 23.6774 6.99754 24.1342 8.05045 24.1331C9.79127 28.0931 13.7698 30.5232 18.434 30.6601C23.437 30.8072 27.6372 28.4893 29.3962 24.3262C29.5111 24.0343 30 22.7177 30 21.556C30 20.3942 29.3314 19.9037 28.905 19.9037L28.9039 19.9049Z"
                fill="#21262A"
              />
            </svg>
            <span className="text-lg font-semibold text-gray-900">
              {isInboxPage ? "Inbox" : "Audience"}
            </span>
          </div>
          {/* Always show hamburger button on mobile */}
          <button
            className="p-2 hover:bg-gray-200 rounded"
            onClick={() => {
              setIsNavOpen(!isNavOpen);
              // Dispatch custom event to communicate with navigation
              window.dispatchEvent(new CustomEvent('toggleMobileNav', { detail: !isNavOpen }));
            }}
          >
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M20.025 7.99397L4.02499 7.96997C3.75977 7.96997 3.50542 7.86461 3.31788 7.67708C3.13034 7.48954 3.02499 7.23519 3.02499 6.96997C3.02499 6.70475 3.13034 6.4504 3.31788 6.26286C3.50542 6.07533 3.75977 5.96997 4.02499 5.96997L20.025 5.99397C20.2902 5.99397 20.5446 6.09933 20.7321 6.28686C20.9196 6.4744 21.025 6.72875 21.025 6.99397C21.025 7.25919 20.9196 7.51354 20.7321 7.70108C20.5446 7.88861 20.2902 7.99397 20.025 7.99397Z"
                fill="#21262A"
              />
              <path
                d="M20.018 12.994L4.01799 12.97C3.75277 12.97 3.49842 12.8646 3.31088 12.6771C3.12334 12.4895 3.01799 12.2352 3.01799 11.97C3.01799 11.7048 3.12334 11.4504 3.31088 11.2629C3.49842 11.0753 3.75277 10.97 4.01799 10.97L20.018 10.994C20.2832 10.994 20.5376 11.0993 20.7251 11.2869C20.9126 11.4744 21.018 11.7288 21.018 11.994C21.018 12.2592 20.9126 12.5135 20.7251 12.7011C20.5376 12.8886 20.2832 12.994 20.018 12.994Z"
                fill="#21262A"
              />
              <path
                d="M20.011 17.994L4.01099 17.97C3.74577 17.97 3.49142 17.8646 3.30388 17.6771C3.11634 17.4895 3.01099 17.2352 3.01099 16.97C3.01099 16.7048 3.11634 16.4504 3.30388 16.2629C3.49142 16.0753 3.74577 15.97 4.01099 15.97L20.011 15.994C20.2762 15.994 20.5306 16.0993 20.7181 16.2869C20.9056 16.4744 21.011 16.7288 21.011 16.994C21.011 17.2592 20.9056 17.5135 20.7181 17.7011C20.5306 17.8886 20.2762 17.994 20.011 17.994Z"
                fill="#21262A"
              />
            </svg>
          </button>
        </div>
      )}

      {/* Desktop Header content */}
      {!isMobile && (
        <div className="flex h-13 items-center justify-between px-4">
          {/* Breadcrumbs section */}
          <div className="flex items-center gap-2.5">
            {isInboxPage ? (
              <div className="flex items-center gap-1 rounded-mailchimp bg-mailchimp-active-bg px-2 py-1">
                <span className="text-component-x-small text-mailchimp-text-primary">
                  Inbox
                </span>
              </div>
            ) : (
              <>
                <div className="flex items-center gap-1 rounded-mailchimp bg-transparent px-2 py-1">
                  <span className="text-component-x-small text-mailchimp-text-primary">
                    Audience
                  </span>
                </div>
                <SlashIcon />
                <div className="flex items-center gap-1 rounded-mailchimp bg-mailchimp-active-bg px-2 py-1">
                  <span className="text-component-x-small text-mailchimp-text-primary">
                    Contacts
                  </span>
                </div>
              </>
            )}
          </div>

          {/* Search bar */}
          <div className="flex h-8 min-w-[200px] flex-1 items-center gap-1.5 rounded-mailchimp border border-mailchimp-input-border bg-mailchimp-background-primary px-2.5 py-1.5 mx-4">
            <SearchIcon />
            <input
              type="text"
              placeholder="Ask anything..."
              className="flex-1 text-component-x-small text-mailchimp-text-quaternary bg-transparent border-0 outline-none placeholder-mailchimp-text-quaternary"
            />
            <div className="h-6 w-px bg-mailchimp-border-primary" />
            <HelpIcon />
          </div>

          {/* Utilities */}
          <div className="flex w-96 items-center justify-end gap-3 px-2">
            <button className="flex h-8 w-8 items-center justify-center rounded-mailchimp bg-transparent p-1.5">
              <TaskIcon />
            </button>
            <button className="flex h-8 w-8 items-center justify-center rounded-mailchimp bg-transparent p-1.5">
              <DotsNineIcon />
            </button>
            <button className="flex h-8 items-center gap-1 rounded-mailchimp border border-mailchimp-border-secondary bg-mailchimp-background-primary px-3 py-1.5">
              <span className="text-component-small text-mailchimp-text-primary">
                Live expert help
              </span>
            </button>
            <div className="flex h-8 w-8 items-center justify-center rounded-full border border-mailchimp-border-secondary bg-[#AE7B65]">
              <span className="text-sm font-medium text-mailchimp-text-inverse">
                M
              </span>
            </div>
          </div>
        </div>
      )}
    </div>
  );
}
